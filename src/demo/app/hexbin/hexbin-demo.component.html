<div id="map"
	 leaflet
	 [leafletOptions]="options"
	 [leafletFitBounds]="fitBounds"
	 [leafletLayers]="layers"
	 [leafletLayersControl]="layersControl">

	<div
		*ngFor="let l of hexLayers"
		[leafletHexbin]="l.data"
		[leafletHexbinOptions]="l.options"
		(leafletHexbinLayerReady)="l.ready($event)"></div>

</div>


<div id="controls" class=" panel panel-default">

	<div class="row">
		<div class="col-md-12">

			<div class="panel-heading">
				<h3 class="panel-title">
					<span style="padding-right:16px;">
						<i *ngIf="collapsed" class="glyphicon glyphicon-cog"></i>
						<span *ngIf="!collapsed">Leaflet Hexbin Demo</span>
					</span>

					<a class="button pull-right" (click)="collapsed = !collapsed">
						<i class="glyphicon" [ngClass]="{ 'glyphicon-chevron-up': collapsed, 'glyphicon-chevron-down': !collapsed }"></i>
					</a>
				</h3>
			</div>
			<div [hidden]="collapsed" class="panel-body">
				<form>

					<div class="form-group">
						<label class="control-label">GPX File</label>
						<input type="file" id="fileInput" (change)="loadFile()"><br/>
					</div>

					<div class="form-group">
						<label class="control-label">Hex Radius</label>
						<select class="form-control" name="radius" [(ngModel)]="model.radiusDimension" (change)="apply()" required>
							<option *ngFor="let z of dimensions" [value]="z">{{dimensionsMap[z].label}}</option>
						</select>
					</div>

					<div class="form-group">
						<label class="control-label">Hex Color</label>
						<select class="form-control" name="color" [(ngModel)]="model.colorDimension" (change)="apply()" required>
							<option *ngFor="let z of dimensions" [value]="z">{{dimensionsMap[z].label}}</option>
						</select>
					</div>

				</form>
			</div>

		</div>
	</div>

</div>
